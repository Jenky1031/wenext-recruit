var Te=Object.defineProperty,Ne=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var ne=(c,u,r)=>u in c?Te(c,u,{enumerable:!0,configurable:!0,writable:!0,value:r}):c[u]=r,Y=(c,u)=>{for(var r in u||(u={}))Ae.call(u,r)&&ne(c,r,u[r]);if(oe)for(var r of oe(u))Be.call(u,r)&&ne(c,r,u[r]);return c},q=(c,u)=>Ne(c,$e(u));import{d as ce,g as p,z as S,u as t,l as J,C as Le,D as ve,M as Oe,R as Re,S as Pe,o as I,c as M,a as U,E as le,w as F,i as j,v as K,n as C,H as z,b as W,T as re,I as H,A as fe,G as me,F as ze,O as He,Q as Ve,t as De,y as Ue,U as Fe,K as We,x as je}from"./index.084fccd6.js";import{d as de,i as Ke,u as pe,e as Xe,E as ie,b as he,f as Ge,w as Qe,g as Ye}from"./base.f9be79e6.js";import{d as qe,i as Je,a as Ze,b as xe}from"./arrow-right.c0bd93ec.js";var et="Expected a function";function ue(c,u,r){var a=!0,i=!0;if(typeof c!="function")throw new TypeError(et);return Je(r)&&(a="leading"in r?!!r.leading:a,i="trailing"in r?!!r.trailing:i),qe(c,u,{leading:a,maxWait:u,trailing:i})}const ge=Symbol("carouselContextKey"),tt=de({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:{type:String,default:""},loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator(c){return["horizontal","vertical"].includes(c)}},pauseOnHover:{type:Boolean,default:!0}}),at={change:(c,u)=>[c,u].every(Ke)},st=["onMouseenter","onMouseleave"],ot=["onMouseenter","onClick"],nt={key:0},lt={name:"ElCarousel"},rt=ce(q(Y({},lt),{props:tt,emits:at,setup(c,{expose:u,emit:r}){const a=c,i=pe("carousel"),w=300,n=p(-1),h=p(null),_=p(!1),g=p(),v=p([]),k=S(()=>a.arrow!=="never"&&!t($)),T=S(()=>v.value.some(e=>e.props.label.toString().length>0)),N=S(()=>{const e=[i.b(),i.m(a.direction)];return t(L)&&e.push(i.m("card")),e}),V=S(()=>{const e=[i.e("indicators"),i.em("indicators",a.direction)];return T.value&&e.push(i.em("indicators","labels")),(a.indicatorPosition==="outside"||t(L))&&e.push(i.em("indicators","outside")),e}),L=S(()=>a.type==="card"),$=S(()=>a.direction==="vertical"),D=ue(e=>{o(e)},w,{trailing:!0}),X=ue(e=>{Ce(e)},w);function O(){h.value&&(clearInterval(h.value),h.value=null)}function R(){a.interval<=0||!a.autoplay||h.value||(h.value=setInterval(()=>l(),a.interval))}const l=()=>{n.value<v.value.length-1?n.value=n.value+1:a.loop&&(n.value=0)};function o(e){if(De(e)){const y=v.value.filter(B=>B.props.name===e);y.length>0&&(e=v.value.indexOf(y[0]))}if(e=Number(e),Number.isNaN(e)||e!==Math.floor(e))return;const s=v.value.length,m=n.value;e<0?n.value=a.loop?s-1:0:e>=s?n.value=a.loop?0:s-1:n.value=e,m===n.value&&f(m)}function f(e){v.value.forEach((s,m)=>{s.translateItem(m,n.value,e)})}function d(e){v.value.push(e)}function E(e){const s=v.value.findIndex(m=>m.uid===e);s!==-1&&(v.value.splice(s,1),n.value===s&&ee())}function A(e,s){var m,y,B,te;const P=t(v),ae=P.length;if(ae===0||!e.states.inStage)return!1;const be=s+1,we=s-1,se=ae-1,ke=P[se].states.active,Ee=P[0].states.active,Se=(y=(m=P[be])==null?void 0:m.states)==null?void 0:y.active,Me=(te=(B=P[we])==null?void 0:B.states)==null?void 0:te.active;return s===se&&Ee||Se?"left":s===0&&ke||Me?"right":!1}function b(){_.value=!0,a.pauseOnHover&&O()}function G(){_.value=!1,R()}function Z(e){t($)||v.value.forEach((s,m)=>{e===A(s,m)&&(s.states.hover=!0)})}function x(){t($)||v.value.forEach(e=>{e.states.hover=!1})}function Ie(e){n.value=e}function Ce(e){a.trigger==="hover"&&e!==n.value&&(n.value=e)}function _e(){o(n.value-1)}function ee(){o(n.value+1)}J(()=>n.value,(e,s)=>{f(s),s>-1&&r("change",e,s)}),J(()=>a.autoplay,e=>{e?R():O()}),J(()=>a.loop,()=>{o(n.value)});const Q=Le();return ve(async()=>{await Oe(),Q.value=Xe(g.value,()=>{f()}),a.initialIndex<v.value.length&&a.initialIndex>=0&&(n.value=a.initialIndex),R()}),Re(()=>{O(),g.value&&Q.value&&Q.value.stop()}),Pe(ge,{root:g,isCardType:L,isVertical:$,items:v,loop:a.loop,addItem:d,removeItem:E,setActiveItem:o}),u({setActiveItem:o,prev:_e,next:ee}),(e,s)=>(I(),M("div",{ref_key:"root",ref:g,class:C(t(N)),onMouseenter:z(b,["stop"]),onMouseleave:z(G,["stop"])},[U("div",{class:C(t(i).e("container")),style:me({height:e.height})},[t(k)?(I(),le(re,{key:0,name:"carousel-arrow-left"},{default:F(()=>[j(U("button",{type:"button",class:C([t(i).e("arrow"),t(i).em("arrow","left")]),onMouseenter:s[0]||(s[0]=m=>Z("left")),onMouseleave:x,onClick:s[1]||(s[1]=z(m=>t(D)(n.value-1),["stop"]))},[W(t(ie),null,{default:F(()=>[W(t(Ze))]),_:1})],34),[[K,(e.arrow==="always"||_.value)&&(a.loop||n.value>0)]])]),_:1})):H("v-if",!0),t(k)?(I(),le(re,{key:1,name:"carousel-arrow-right"},{default:F(()=>[j(U("button",{type:"button",class:C([t(i).e("arrow"),t(i).em("arrow","right")]),onMouseenter:s[2]||(s[2]=m=>Z("right")),onMouseleave:x,onClick:s[3]||(s[3]=z(m=>t(D)(n.value+1),["stop"]))},[W(t(ie),null,{default:F(()=>[W(t(xe))]),_:1})],34),[[K,(e.arrow==="always"||_.value)&&(a.loop||n.value<v.value.length-1)]])]),_:1})):H("v-if",!0),fe(e.$slots,"default")],6),e.indicatorPosition!=="none"?(I(),M("ul",{key:0,class:C(t(V))},[(I(!0),M(ze,null,He(v.value,(m,y)=>(I(),M("li",{key:y,class:C([t(i).e("indicator"),t(i).em("indicator",e.direction),t(i).is("active",y===n.value)]),onMouseenter:B=>t(X)(y),onClick:z(B=>Ie(y),["stop"])},[U("button",{class:C(t(i).e("button"))},[t(T)?(I(),M("span",nt,Ve(m.props.label),1)):H("v-if",!0)],2)],42,ot))),128))],2)):H("v-if",!0)],42,st))}}));var it=he(rt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const ut=de({name:{type:String,default:""},label:{type:[String,Number],default:""}}),ct={name:"ElCarouselItem"},vt=ce(q(Y({},ct),{props:ut,setup(c){const u=c,r=pe("carousel"),a=Ue(ge),i=je(),w=.83,n=p(!1),h=p(0),_=p(1),g=p(!1),v=p(!1),k=p(!1),T=p(!1),{isCardType:N,isVertical:V}=a,L=S(()=>{const o=`${`translate${t(V)?"Y":"X"}`}(${t(h)}px)`,f=`scale(${t(_)})`;return{transform:[o,f].join(" ")}});function $(l,o,f){const d=f-1,E=o-1,A=o+1,b=f/2;return o===0&&l===d?-1:o===d&&l===0?f:l<E&&o-l>=b?f+1:l>A&&l-o>=b?-2:l}function D(l,o){var f;const d=((f=a.root.value)==null?void 0:f.offsetWidth)||0;return k.value?d*((2-w)*(l-o)+1)/4:l<o?-(1+w)*d/4:(3+w)*d/4}function X(l,o,f){const d=a.root.value;return d?((f?d.offsetHeight:d.offsetWidth)||0)*(l-o):0}const O=(l,o,f)=>{var d;const E=t(N),A=(d=a.items.value.length)!=null?d:Number.NaN,b=l===o;!E&&!Ge(f)&&(T.value=b||l===f),!b&&A>2&&a.loop&&(l=$(l,o,A));const G=t(V);g.value=b,E?(k.value=Math.round(Math.abs(l-o))<=1,h.value=D(l,o),_.value=t(g)?1:w):h.value=X(l,o,G),v.value=!0};function R(){if(a&&t(N)){const l=a.items.value.findIndex(({uid:o})=>o===i.uid);a.setActiveItem(l)}}return ve(()=>{a.addItem({props:u,states:Fe({hover:n,translate:h,scale:_,active:g,ready:v,inStage:k,animating:T}),uid:i.uid,translateItem:O})}),We(()=>{a.removeItem(i.uid)}),(l,o)=>j((I(),M("div",{class:C([t(r).e("item"),t(r).is("active",g.value),t(r).is("in-stage",k.value),t(r).is("hover",n.value),t(r).is("animating",T.value),{[t(r).em("item","card")]:t(N)}]),style:me(t(L)),onClick:R},[t(N)?j((I(),M("div",{key:0,class:C(t(r).e("mask"))},null,2)),[[K,!g.value]]):H("v-if",!0),fe(l.$slots,"default")],6)),[[K,v.value]])}}));var ye=he(vt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const ht=Qe(it,{CarouselItem:ye}),gt=Ye(ye);export{gt as E,ht as a};
