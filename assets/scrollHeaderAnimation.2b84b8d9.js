var A=Object.defineProperty,D=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var k=(e,t,o)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,T=(e,t)=>{for(var o in t||(t={}))q.call(t,o)&&k(e,o,t[o]);if(b)for(var o of b(t))z.call(t,o)&&k(e,o,t[o]);return e},w=(e,t)=>D(e,I(t));import{d as B,o as v,c as N,a as F,C as E,g as d,z as H,D as O,E as V,w as y,A as P,G,u as r,n as S,H as L,I as R,T as U,b as C,h as $}from"./index.6d6f625f.js";import{_ as Y,u as j,a as J,b as K,E as Q,c as W,w as X}from"./base.7767a396.js";import{t as Z}from"./error.7e8331f1.js";import{u as ee}from"./scroll.b180ac2b.js";const oe=B({name:"CaretTop"}),te={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},se=F("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),ae=[se];function le(e,t,o,n,l,s){return v(),N("svg",te,ae)}var ne=Y(oe,[["render",le]]);const x=e=>e**3,ce=e=>e<.5?x(e*2)/2:1-x((1-e)*2)/2,re={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},ie={click:e=>e instanceof MouseEvent},ue=["onClick"],pe={name:"ElBacktop"},me=B(w(T({},pe),{props:re,emits:ie,setup(e,{emit:t}){const o=e,n="ElBacktop",l=j("backtop"),s=E(),i=E(),u=d(!1),c=H(()=>({right:`${o.right}px`,bottom:`${o.bottom}px`})),p=()=>{if(!s.value)return;const a=Date.now(),_=s.value.scrollTop,g=()=>{if(!s.value)return;const h=(Date.now()-a)/500;h<1?(s.value.scrollTop=_*(1-ce(h)),requestAnimationFrame(g)):s.value.scrollTop=0};requestAnimationFrame(g)},f=()=>{s.value&&(u.value=s.value.scrollTop>=o.visibilityHeight)},m=a=>{p(),t("click",a)},M=W(f,300);return O(()=>{var a;i.value=document,s.value=document.documentElement,o.target&&(s.value=(a=document.querySelector(o.target))!=null?a:void 0,s.value||Z(n,`target is not existed: ${o.target}`),i.value=s.value),J(i,"scroll",M)}),(a,_)=>(v(),V(U,{name:`${r(l).namespace.value}-fade-in`},{default:y(()=>[u.value?(v(),N("div",{key:0,style:G(r(c)),class:S(r(l).b()),onClick:L(m,["stop"])},[P(a.$slots,"default",{},()=>[C(r(Q),{class:S(r(l).e("icon"))},{default:y(()=>[C(r(ne))]),_:1},8,["class"])])],14,ue)):R("v-if",!0)]),_:3},8,["name"]))}}));var de=K(me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const be=X(de);function ke(){const e=$("/common/logo_small_dark.png"),t=$("/common/logo_small.png"),o=d(!1),n=d(!1),l=d(0),s=H(()=>n.value?e:t);ee(i);function i(){u()}function u(){var m;let c=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,p=c-l.value;l.value=c;const f=(m=document.querySelector(".banner"))==null?void 0:m.offsetHeight;p>0&&c>90?o.value=!0:p<0&&(o.value=!1,n.value=c>=f)}return{isHide:o,isDark:n,logoSelected:s,logoDark:e}}export{be as E,ke as u};
